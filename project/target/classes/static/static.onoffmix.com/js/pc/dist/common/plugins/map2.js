function makeMAP(o,a,n,e,i){var l,p,c,s,m,d,f=$(),u=$();void 0===i&&(i="mapzone");var t=document.getElementById(i);function h(e){c=e.latlng,l.setCenter(c,{useEffect:!0}),s&&(d.triggerHandler("pointByClick.ofm",!0),d.triggerHandler("point.ofm"))}function g(e,t,n){c=new naver.maps.LatLng(e,t),l.setCenter(c),void 0!==n&&l.setZoom(n,!0)}function r(){var e=document.getElementById(i);null===e&&$("<div></div>").attr({id:i}).width(918).height(400).hide().appendTo(document.body),c=new naver.maps.LatLng(a,o),(l=new naver.maps.Map(i,{scrollWheel:!0})).setCenter(c),l.setZoom(10),new naver.maps.ZoomControl({position:naver.maps.Position.TOP_LEFT,zIndex:9}).setMap(l),new naver.maps.MapTypeControl({position:naver.maps.Position.TOP_LEFT,zIndex:9}).setMap(l);p=new naver.maps.Marker({position:c,icon:{url:"/static_html/images/pc/icon/map_pin.png",size:new naver.maps.Size(34,37),anchor:new naver.maps.Point(14,37)},zIndex:9}),naver.maps.Event.addListener(l,"click",h);var t=null,r=null;(d=$(e)).on({"geocode.ofm":function(e,n){t&&clearTimeout(t),t=setTimeout(function(){var e={latlng:c.lat()+","+c.lng()},o=null,a=null,i=null;r&&r.abort(),r=$.ajax({type:"get",url:"/api/code/geocode",data:$.param(e),success:function(e,t,n){if(!e)return!1;"string"==typeof e&&(e=$.parseJSON(e)),o=e.SIDO_NM,a=e.GUGUN_NM,m&&(i=e.ADDR)},error:function(e,t){},complete:function(e,t){n(o,a,null,i)},dateType:"json",timeout:5e3})},300)},"marker.ofm":function(e,t){t?p.setMap(l):p.setMap(null)},"center.ofm":function(e,t,n,o){g(t,n,o)},"reset.ofm":function(e){g(a,o,10)},"point.ofm":function(e){p.setOptions({position:c}),s&&($('input[name="mapX"]').val(c.lng()).change(),$('input[name="mapY"]').val(c.lat()).change())},"setPointOnClick.ofm":function(e,t){s=!!t},"pointByClick.ofm":function(e,t){if(void 0===t)return m;(m=!!t)&&d.triggerHandler("marker.ofm",!0)},"layer.ofm":function(e,t){var n={type:"inline",href:"#"+i,padding:5,width:760,height:570,hideOnContentClick:!1,hideOnOverlayClick:!0,centerOnScroll:!0,cyclic:!0,titleShow:!1,autoScale:!0,autoDimensions:!1,_onStart:function(){$(this.href).show()},_onComplete:function(){$(this.href).show().trigger("show.ofm").trigger("reset.ofm")},_onCleanup:function(){$(this.href).hide().insertBefore(this._placeholder),this._placeholder&&$(this._placeholder).remove()},_onClosed:function(){$(this.href).show().trigger("show.ofm").trigger("reset.ofm")},onStart:function(){this._onStart.apply(this,arguments)},onComplete:function(){this._onComplete.apply(this,arguments)},onCleanup:function(){this._onCleanup.apply(this,arguments)},onClosed:function(){this._onClosed.apply(this,arguments)},onCancel:function(){this._onClosed.apply(this,arguments)}};"object"==typeof t&&void 0!==t.orig&&(n.transitionIn="elastic",n.transitionOut="elastic"),"object"==typeof t&&$.extend(n,t),n._placeholder=$("<div />").insertAfter(n.href);try{$.fancybox(n)}catch(e){}},"show.ofm":function(e){d.show(),f.show().add(u).prop("disabled",!1),l.setSize(new naver.maps.Size(d.width(),d.height())),l.setCenter(c,{useEffect:!0})},"hide.ofm":function(e){d.hide(),f.hide().add(u).prop("disabled",!0)},"addCompanion.ofm":function(e,t){f=f.add(t)},"removeCompanion.ofm":function(e,t){f=f.not(t)},"addForm.ofm":function(e,t){u=u.add(t)},"removeForm.ofm":function(e,t){u=u.not(t)},"poi.ofm":function(e,t,n){d.triggerHandler("addForm.ofm",t),d.triggerHandler("addForm.ofm",n),$(t).on({keypress:function(e){if(13==e.keyCode)return e.preventDefault(),e.stopImmediatePropagation(),$(this).autocomplete("search"),!1}}).autocomplete({appendTo:$(t).parent(),autoFocus:!1,position:{my:"left top",at:"left bottom-1",of:t},source:function(e,t){var n="/api/naver_openapi",o={url:"openapi.naver.com/v1/search/local",query:e.term,output:"xml"},a={url:"openapi.naver.com/v1/map/geocode",query:e.term,coordType:"latlng",coord:"latlng",output:"xml"},i=[$.ajax({url:n,data:o,dataType:"xml"}),$.ajax({url:n,data:a,dataType:"xml"})];$.when.apply(0,i).then(function(e){t(Array.prototype.map.call(arguments,function(e){return $(e[0]).find("result item, channel item").map(function(e,t){var n,o,a,i,r=$(t);if(r.parent().is("items"))o=r.children("address").text(),a=r.find("x").text(),i=r.find("y").text();else if(r.parent().is("channel")){n=r.children("title").text().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),o="["+(n=$("<span />",{html:n}).text())+"]"+r.children("roadAddress").text();var l=naver.maps.TransCoord.fromTM128ToLatLng(naver.maps.Point(r.find("mapx").text(),r.find("mapy").text()));a=l.x,i=l.y}return{label:o,value:i+","+a,poi:n}}).get()}).reduce(function(e,t){return e.concat(t)}))})},focus:function(e,t){e.preventDefault()},select:function(e,t){e.preventDefault(),t.item.poi?$(this).val(t.item.poi):$(this).val(t.item.label),d.triggerHandler("marker.ofm",!0),d.triggerHandler("poiSelect.ofm",t.item.label);var n=t.item.value.split(",");2==n.length&&(a=n[0],o=n[1],d.triggerHandler("center.ofm",[a,o,10]),d.triggerHandler("pointByClick.ofm",!1),d.triggerHandler("point.ofm"))}}),$(n).on({click:function(e){e.preventDefault(),e.stopImmediatePropagation(),$(t).autocomplete("search")}})}}),1<=n?(d.show(),1<n&&d.triggerHandler("marker.ofm",!0)):d.hide(),d.triggerHandler("mapLoaded.ofm",[l,p,c])}null!==t&&(a&&null!==a||(a=$(t).data("lat")),o&&null!==o||(o=$(t).data("lng")),e&&null!==e||(e=$(t).data("naverKey"))),n=void 0===n?0:"boolean"==typeof n?n?2:0:1===n?1:-1,"undefined"!=typeof naver&&void 0!==naver.maps||void 0===e?$(function(){r()}):$(function(){$.getScript("https://openapi.map.naver.com/openapi/v3/maps.js?clientId="+e+"&submodules=geocoder",r)})}